webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("7+uW"),r=a("//Fk"),i=a.n(r),s=a("mtWM"),n=a.n(s),l=a("zL8q"),c=a.n(l),d=localStorage.getItem("baseURL")?localStorage.getItem("baseURL"):"http://localhost:6666";console.log(localStorage.getItem("baseURL"));var u=n.a.create({baseURL:d,timeout:6e4});u.interceptors.request.use(function(t){return t},function(t){return i.a.reject(t)}),u.interceptors.response.use(function(t){return 200!==t.status?(Object(l.Message)({message:res.msg||"Error",type:"error",duration:5e3}),i.a.reject(new Error(res.msg||"Error"))):t.data},function(t){return Object(l.Message)({message:t.message,type:"error",duration:5e3}),i.a.reject(t)});var f=u;var h={name:"App",data:function(){return{historySearch:!1,searchData:[],searchText:""}},watch:{searchText:function(){this.quotStockSearch()},historySearch:function(t){t||(this.searchData=[])}},methods:{quotStockSearch:function(){var t,e=this;(t={searchStr:this.searchText},f({url:"/quot/stock/search",method:"get",params:t})).then(function(t){e.historySearch=!0,e.searchData=t.items,console.log(t)})},itemClick:function(t){this.$router.push({path:"/details",query:{id:t}}),this.searchData=[],this.historySearch=!1},mousemove:function(){this.searchData.length>0&&(this.historySearch=!0)},inputChange:function(){this.searchText.length||(this.searchData=[],this.historySearch=!1,console.log("----------------------------"))}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",{attrs:{height:"90px"}},[a("div",{staticClass:"header-name"},[t._v("今日指数证券大屏")]),t._v(" "),a("div",{staticClass:"seach"},[a("div",{staticClass:"seach-name"},[t._v("股票搜索：")]),t._v(" "),a("div",{staticClass:"seach-input",on:{mousemove:t.mousemove,mouseleave:function(e){t.historySearch=!1}}},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"代码"},domProps:{value:t.searchText},on:{keyup:t.inputChange,input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-search"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.historySearch,expression:"historySearch"}],staticClass:"history-search"},[a("div",{staticClass:"content search-scroll"},t._l(t.searchData,function(e,o){return a("div",{key:o,staticClass:"item",on:{click:function(a){return t.itemClick(e.code)}}},[a("span",[t._v(t._s(e.code))]),t._v(" "),a("span",[t._v(t._s(e.name))])])}),0)])])])]),t._v(" "),a("el-main",[a("router-view")],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(h,p,!1,function(t){a("sZeV")},"data-v-dffc03cc",null).exports,v=a("/ocq"),x={components:{},props:{tableData:{type:Array,default:[]},tableColumnData:{type:Array,default:[]},height:{type:String,default:"210"},showHeader:{type:Boolean,default:!0},align:{type:String,default:"center"}},data:function(){return{}},methods:{getScopeRowItem:function(t,e){var a=t.row[e.prop]?t.row[e.prop]:e.defaults;return(e.extraTextBefore?e.extraTextBefore:"")+a+(e.extraTextAfter?e.extraTextAfter:"")},getScopeRowItemStates:function(t,e,a){if(t)return Number(e.row[a.prop])>Number(e.row.preClosePrice)?"#FE1919":Number(e.row[a.prop])<Number(e.row.preClosePrice)?"#249900":""},columnClick:function(t){this.$emit("columnClickCallBack",t)}},created:function(){},mounted:function(){}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.tableData,size:"small",height:t.height,"show-header":t.showHeader},on:{"row-click":t.columnClick}},t._l(t.tableColumnData,function(e,o){return a("el-table-column",{key:o,attrs:{prop:e.prop,label:e.label,align:t.align,"show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(o){return[a("div",{class:t.getScopeRowItemStates(e.isDifferentStates,o,e),style:{color:t.getScopeRowItemStates(e.isDifferentStates,o,e)}},[t._v(t._s(t.getScopeRowItem(o,e)))])]}}],null,!0)})}),1)],1)},staticRenderFns:[]};var T=a("VU/8")(x,S,!1,function(t){a("apIG")},"data-v-0001ec66",null).exports,g={name:"home",components:{Table:T},data:function(){return{domesticTableData:[],domesticTableColumnData:[{prop:"code",label:"代码",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"name",label:"名称",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"preClosePrice",label:"前收盘价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"openPrice",label:"开盘价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradePrice",label:"最新价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"upDown",label:"涨跌",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"increase",label:"涨幅%",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"%",defaults:"0"},{prop:"tradeAmt",label:"总金额",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradeVol",label:"总手",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"}],plateTableData:[],plateTableColumnData:[{prop:"code",label:"代码",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"name",label:"名称",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"preClosePrice",label:"前收盘价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"openPrice",label:"开盘价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradePrice",label:"最新价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradeAmt",label:"成交量",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradeVol",label:"成交金额",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""}],outerPlateTableData:[],outerPlateTableColumnData:[{prop:"name",label:"名称",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradePrice",label:"最新",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"upDown",label:"涨跌幅",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"amplitude",label:"振幅",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:""}],increaseTableData:[],increaseTableColumnData:[{prop:"code",label:"代码",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"name",label:"名称",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"increase",label:"涨幅%",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradePrice",label:"现价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"upDown",label:"涨跌",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradeVol",label:"总手",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"amplitude",label:"振幅",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"preClosePrice",label:"前收盘价",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"tradeAmt",label:"成交额",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""}],newsTableData:[{title:"东方财富",content:"A股三大指数收涨：民航与券商板块领涨 北向资金净流入近60亿",time:"15:00"},{title:"东方财富",content:"机构论市：新热点有望吹响冲锋号 沪指反弹目标位曝光",time:"15:53"},{title:"东方财富",content:"大逆转！巴菲特割肉割错了？美股A股航空板块联袂大涨",time:"12:32"},{title:"东方财富",content:"重磅政策支持湖北自贸区发展！涉及数字商务新模式新业态、电商大数据等",time:"00:46"},{title:"东方财富",content:"机构论市：6月投资主线已明朗 当下行情关注三大要点",time:"15:39"},{title:"东方财富",content:"地摊经济概念股发烫 多家上市公司紧急提示风险",time:"07:42"}],UdChart:null,moneyChart:null,meStockChart:null,quotIndexAllTimer:null,quotSectorAllTimer:null,quotExternalIndexTimer:null,quotStockIncreaseTimer:null,quotStockUpdownCountTimer:null,quotStockUpdownTimer:null,quotStockTradevolTimer:null}},methods:{UdChartDrawLine:function(){this.UdChart=this.$echarts.init(this.$refs.UdChart),this.UdChart.setOption({title:{text:"涨停跌停数",textStyle:{color:"#FFFFFF"}},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{show:!0,lineStyle:{color:"#979797"}}},grid:{left:"10%",right:"10%",top:"20%",bottom:"10%"},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:["#979797"],width:1,type:"dashed"}},axisLine:{show:!1}},tooltip:{show:!0},legend:{data:["涨停","跌停"],right:"60px",top:"0px",inactiveColor:"#ffffff",textStyle:{color:"#ffffff"}},series:[{name:"涨停",data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0,lineStyle:{color:"#FE1919"}},{name:"跌停",data:[82,93,91,94,190,130,320],type:"line",smooth:!0,lineStyle:{color:"#249900"}}],textStyle:{color:"#ffffff"}})},moneyChartDrawLine:function(){this.moneyChart=this.$echarts.init(this.$refs.moneyChart),this.moneyChart.setOption({title:{text:"成交量",textStyle:{color:"#FFFFFF"}},grid:{left:"10%",right:"10%",top:"20%",bottom:"10%"},xAxis:{show:!1,type:"category",data:new Array(240),axisLine:{show:!0,lineStyle:{color:"#979797"}}},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:["#979797"],width:1,type:"dashed"}},axisLine:{show:!1}},tooltip:{show:!0,trigger:"axis",formatter:function(t){return"<span>时间</span>: "+t[0].data.time+'<br/>\n            昨日: <span style="color: #FE1919">'+t[0].value+'</span><br/>\n            今日: <span style="color: #249900">'+t[1].value+"</span><br/>"}},legend:{data:["昨日","今日"],right:"80px",inactiveColor:"#ffffff",textStyle:{color:"#ffffff"}},series:[{name:"昨日",data:[820,932,901,934,1290,1330,1320],type:"line",smooth:!0,lineStyle:{color:"#FE1919"}},{name:"今日",data:[82,93,91,94,190,130,320],type:"line",smooth:!0,lineStyle:{color:"#249900"}}],textStyle:{color:"#ffffff"}})},meStockChartDrawLine:function(){this.meStockChart=this.$echarts.init(this.$refs.meStockChart),this.meStockChart.setOption({title:{text:"个股涨跌",textStyle:{color:"#FFFFFF"}},grid:{left:"10%",right:"10%",top:"20%",bottom:"15%"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisLine:{show:!0,lineStyle:{color:"#979797"}},axisLabel:{interval:0,rotate:38}},yAxis:{type:"value",splitLine:{show:!0,lineStyle:{color:["#979797"],width:1,type:"dashed"}},axisLine:{show:!1}},tooltip:{show:!0},series:[{data:[820,932,901,934,1290,1330,1320],type:"bar",smooth:!0,itemStyle:{color:function(t){return"up"==t.data.status?"#FE1919":"#249900"}},barMaxWidth:"10px"}],textStyle:{color:"#ffffff"}})},formatSeconds:function(t){return 60*t*1e3},echartsResize:function(){var t=this;window.addEventListener("resize",function(){t.UdChart.resize(),t.moneyChart.resize(),t.meStockChart.resize()})},quotIndexAll:function(){var t,e=this;f({url:"/quot/index/all",method:"get",params:t}).then(function(t){console.log("数据返回成功"),console.log(t),e.domesticTableData=t.items,e.quotIndexAllTimer=setInterval(function(){console.log("正在请求"),e.quotIndexAll(),clearInterval(e.quotIndexAllTimer),console.log("请求结束")},e.formatSeconds(1))})},quotSectorAll:function(){var t,e=this;f({url:"/quot/sector/all",method:"get",params:t}).then(function(t){console.log("数据返回成功"),console.log(t),e.plateTableData=t.items,e.quotSectorAllTimer=setInterval(function(){console.log("正在请求"),e.quotSectorAll(),clearInterval(e.quotSectorAllTimer),console.log("请求结束",e.quotSectorAllTimer)},e.formatSeconds(1))})},quotExternalIndex:function(){var t,e=this;f({url:"/quot/external/index",method:"get",params:t}).then(function(t){console.log("数据返回成功"),console.log(t),e.outerPlateTableData=t.items,e.quotExternalIndexTimer=setInterval(function(){console.log("正在请求"),e.quotExternalIndex(),clearInterval(e.quotExternalIndexTimer),console.log("请求结束",e.quotExternalIndexTimer)},e.formatSeconds(1))})},quotStockIncrease:function(){var t,e=this;f({url:"/quot/stock/increase",method:"get",params:t}).then(function(t){console.log("数据返回成功"),console.log(t),e.increaseTableData=t.items,e.quotStockIncreaseTimer=setInterval(function(){console.log("正在请求"),e.quotStockIncrease(),clearInterval(e.quotStockIncreaseTimer),console.log("请求结束",e.quotStockIncreaseTimer)},e.formatSeconds(1))})},quotStockUpdownCount:function(){var t,e=this;f({url:"/quot/stock/updown/count",method:"get",params:t}).then(function(t){console.log("数据返回成功 - 涨停跌停数");var a=[],o=[],r=[];t.upList.length>t.downList.length?t.upList.forEach(function(e,i){a.push(e.count),r.push(e.time),t.downList[i]&&o.push(t.downList[i].count)}):t.downList.forEach(function(e,i){o.push(e.count),r.push(e.time),t.upList[i]&&a.push(t.upList[i].count)}),e.UdChart.setOption({xAxis:{data:r},series:[{name:"涨停",data:a},{name:"跌停",data:o}]}),e.quotStockUpdownCountTimer=setInterval(function(){console.log("正在请求 - 涨停跌停数"),e.quotStockUpdownCount(),clearInterval(e.quotStockUpdownCountTimer),console.log("请求结束 - 涨停跌停数",e.quotStockUpdownCountTimer)},e.formatSeconds(1))})},quotStockTradevol:function(){var t,e=this;f({url:"/quot/stock/tradevol",method:"get",params:t}).then(function(t){console.log("数据返回成功 - 成交量");var a=[],o=[];t.volList.forEach(function(e,r){a.push({time:e.time,value:e.count}),o.push({value:t.yesVolList[r].count})}),e.moneyChart.setOption({series:[{name:"昨日",data:a},{name:"今日",data:o}]}),e.quotStockTradevolTimer=setInterval(function(){console.log("正在请求 - 成交量"),e.quotStockUpdown(),clearInterval(e.quotStockTradevolTimer),console.log("请求结束 - 成交量",e.quotStockTradevolTimer)},e.formatSeconds(1))})},quotStockUpdown:function(){var t,e=this;f({url:"/quot/stock/updown",method:"get",params:t}).then(function(t){console.log("数据返回成功 - 个股涨跌"),console.log(t);var a=[],o=[];t.items.forEach(function(t){a.push(t.title),o.push({value:t.count,status:t.status})}),e.meStockChart.setOption({xAxis:{data:a},series:[{data:o}]}),e.quotStockUpdownTimer=setInterval(function(){console.log("正在请求 - 个股涨跌"),e.quotStockUpdown(),clearInterval(e.quotStockUpdownTimer),console.log("请求结束 - 个股涨跌",e.quotStockUpdownTimer)},e.formatSeconds(1))})},callBack:function(t){this.$router.push({path:"/details",query:{id:t.code}})}},mounted:function(){this.UdChartDrawLine(),this.moneyChartDrawLine(),this.meStockChartDrawLine(),this.echartsResize(),this.quotIndexAll(),this.quotSectorAll(),this.quotExternalIndex(),this.quotStockIncrease(),this.quotStockUpdownCount(),this.quotStockUpdown(),this.quotStockTradevol()},destroyed:function(){clearInterval(this.quotIndexAllTimer),clearInterval(this.quotSectorAllTimer),clearInterval(this.quotExternalIndexTimer),clearInterval(this.quotStockIncreaseTimer),clearInterval(this.quotStockUpdownCountTimer),clearInterval(this.quotStockUpdownTimer),clearInterval(this.quotStockTradevolTimer)}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"module-group"},[a("div",{staticClass:"module"},[a("div",{staticClass:"module-title"},[t._v("国内指数")]),t._v(" "),a("Table",{attrs:{tableData:t.domesticTableData,tableColumnData:t.domesticTableColumnData}})],1),t._v(" "),a("div",{staticClass:"module"},[a("div",{staticClass:"module-title"},[t._v("板块指数")]),t._v(" "),a("Table",{attrs:{tableData:t.plateTableData,tableColumnData:t.plateTableColumnData}})],1),t._v(" "),a("div",{staticClass:"module mr0"},[a("div",{staticClass:"module-title"},[t._v("外盘指数")]),t._v(" "),a("Table",{attrs:{tableData:t.outerPlateTableData,tableColumnData:t.outerPlateTableColumnData}})],1)]),t._v(" "),a("div",{staticClass:"module-group"},[a("div",{staticClass:"module flex2"},[a("div",{staticClass:"module-title"},[t._v("涨幅榜")]),t._v(" "),a("router-link",{attrs:{to:{path:"/list"}}},[a("div",{staticClass:"module-title module-title-right"},[t._v("查看更多")])]),t._v(" "),a("Table",{attrs:{tableData:t.increaseTableData,tableColumnData:t.increaseTableColumnData},on:{columnClickCallBack:t.callBack}})],1),t._v(" "),a("div",{staticClass:"module mr0"},[a("div",{staticClass:"module-title"},[t._v("资讯新闻")]),t._v(" "),a("ul",{staticClass:"news-list"},t._l(t.newsTableData,function(e,o){return a("li",{key:o},[a("div",{staticClass:"title"},[t._v("\n            "+t._s(e.title)+"\n          ")]),t._v(" "),a("div",{staticClass:"content"},[t._v("\n            "+t._s(e.content)+"\n          ")]),t._v(" "),a("div",{staticClass:"time"},[t._v("\n            "+t._s(e.time)+"\n          ")])])}),0)])]),t._v(" "),a("div",{staticClass:"module-group"},[a("div",{staticClass:"module mb0"},[a("div",{ref:"UdChart",style:{width:"100%",height:"100%"}})]),t._v(" "),a("div",{staticClass:"module mb0"},[a("div",{ref:"moneyChart",style:{width:"100%",height:"100%"}}),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"module mr0 mb0"},[a("div",{ref:"meStockChart",style:{width:"100%",height:"100%"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"codekd"},[e("div",{staticClass:"left"},[this._v("9:30")]),this._v(" "),e("div",{staticClass:"middle"},[this._v("11:30/13:00")]),this._v(" "),e("div",{staticClass:"right"},[this._v("15:00")])])}]};var y=a("VU/8")(g,b,!1,function(t){a("REat")},"data-v-79874dda",null).exports;function C(t){return console.log(t),f({url:"/quot/stock/all",method:"get",params:t})}var w={components:{Table:T},props:[],data:function(){return{tableData:[],tableColumnData:[{prop:"code",label:"代码",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:""},{prop:"name",label:"名称",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"preClosePrice",label:"前收盘价\t",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"openPrice",label:"开盘价",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradePrice",label:"最新价",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"highPrice",label:"最高价",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"lowPrice",label:"最低价",isDifferentStates:!0,extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradeAmt",label:"成交金额",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradeVol",label:"成交数量",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradeVolDay",label:"当日成交量",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"},{prop:"tradeAmtDay",label:"当日成交金额",isDifferentStates:"",extraTextBefore:"",extraTextAfter:"",defaults:"0"}],quotStockAllTimer:null,pageSize:10,total:400,page:1}},methods:{handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){var e=this;this.page=t,C({page:this.page,pagesize:this.pageSize}).then(function(t){e.tableData=t.items,e.pageSize=t.pagesize,e.total=t.pages})},callBack:function(t){console.log(t.code),this.$router.push({path:"/details",query:{id:t.code}})},formatSeconds:function(t){return 60*t*1e3},quotStockAll:function(){var t=this;C().then(function(e){console.log("数据返回成功"),console.log(e),t.tableData=e.items,t.total=e.pages,t.quotStockAllTimer=setInterval(function(){console.log("正在请求"),t.quotStockAll(),clearInterval(t.quotStockAllTimer),console.log("请求结束")},t.formatSeconds(1))})}},created:function(){},mounted:function(){this.quotStockAll()},destroyed:function(){clearInterval(this.quotStockAllTimer)}},k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list"},[e("Table",{attrs:{tableData:this.tableData,tableColumnData:this.tableColumnData,height:"800px"},on:{columnClickCallBack:this.callBack}})],1)},staticRenderFns:[]};var D=a("VU/8")(w,k,!1,function(t){a("NvBQ")},"data-v-0015dff7",null).exports,_=a("Gu7T"),q=a.n(_),A=a("Dd8w"),I=a.n(A),B=a("bOdI"),F=a.n(B);var L={components:{},props:[],data:function(){return{drawLine:null,drawBar:null,candlestick:null,candlestickBar:null,tabIndex:0,tabDate:["分时","日K","周K","月K"],quotStockScreenSecondTimer:null,quotSecondDetailTimer:null,timeSharingTimer:null,dklineTimer:null,stockDescribe:{},code:"",StockScreenSecond:[],quotSecondDetailData:{},maxIntervalData:0}},methods:{drawLineFun:function(){this.drawLine=this.$echarts.init(this.$refs.drawLine);var t=this.maxIntervalData;this.drawLine.setOption({xAxis:{type:"category",data:new Array(240),axisLine:{show:!0,lineStyle:{color:"#FE1919",opacity:.1}},splitLine:{show:!0,lineStyle:{color:["#FE1919"],width:1,type:"dashed",opacity:.1}},axisTick:{show:!1}},tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}},formatter:function(t){var e=t[0];return[e.name+'<hr size=1 style="margin: 3px 0">',"最新价: "+e.value+"<br/>"].join("")}},grid:{left:"0",right:"80px",top:"20px",bottom:"1%",show:!0,borderColor:"transparent",backgroundColor:"#000000"},yAxis:{show:!0,type:"value",position:"right",splitLine:{show:!0,lineStyle:{color:["#FE1919"],width:1,opacity:.2}},axisLine:{show:!0,lineStyle:{color:"#FE1919",opacity:.2}},axisTick:{show:!1},min:function(e){return t-.5*t},max:function(e){return t+.5*t},maxInterval:.1*t,axisLabel:{formatter:function(t,e){return t.toFixed(2)}}},series:[{type:"line",smooth:!1,symbol:"none",lineStyle:{color:"#ffffff"},itemStyle:{borderColor:"#ffffff"}}]})},drawBarFun:function(){this.drawBar=this.$echarts.init(this.$refs.drawBar),this.drawBar.setOption({xAxis:{type:"category",data:new Array(240),axisLine:{show:!0,lineStyle:{color:"#FE1919",opacity:.1}},splitLine:{show:!0,lineStyle:{color:["#FE1919"],width:1,type:"dashed",opacity:.1}},axisTick:{show:!1}},tooltip:{formatter:function(t){return[t.name+'<hr size=1 style="margin: 3px 0">',"成交量: "+t.data.value+"<br/>"].join("")}},grid:{left:"0",right:"80px",top:"4%",bottom:"2%",show:!0,borderColor:"transparent",backgroundColor:"#000000"},yAxis:{show:!0,type:"value",position:"right",splitLine:{show:!0,lineStyle:{color:["#FE1919"],width:1,opacity:.2}},axisLine:{show:!0,lineStyle:{color:"#FE1919",opacity:.2}},axisTick:{show:!1}},series:[{type:"bar",lineStyle:{color:"#ffffff"},itemStyle:{color:function(t){return t.data.preClosePrice>t.data.openPrice?"#969a55":"#39a9a9"}}}]})},candlestickFun:function(){var t;this.candlestick=this.$echarts.init(this.$refs.candlestick),this.candlestick.resize(),this.candlestick.setOption((t={tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}}},F()(t,"tooltip",{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}},formatter:function(t){var e=t[0],a=e.data[8];return[e.name+"<br/>","开盘价: <span style='color:"+(e.data[1]>a?"#FD1050":"#0CF49B")+"'>"+e.data[1]+"</span><br/>","收盘价: <span style='color:"+(e.data[2]>a?"#FD1050":"#0CF49B")+"'>"+e.data[2]+"</span><br/>","最低价: <span style='color:"+(e.data[3]>a?"#FD1050":"#0CF49B")+"'>"+e.data[3]+"</span><br/>","最高价: <span style='color:"+(e.data[4]>a?"#FD1050":"#0CF49B")+"'>"+e.data[4]+"</span><br/>","均价: <span>"+e.data[5]+"</span><br/>","成交量: <span>"+e.data[6]+"</span><br/>","成交金额: <span>"+e.data[7]+"</span><br/>"].join("")}}),F()(t,"xAxis",{type:"category",axisLine:{show:!1,lineStyle:{color:"#FE1919"}},axisTick:{show:!1}}),F()(t,"yAxis",{scale:!0,position:"right",axisLine:{show:!1,lineStyle:{color:"#FE1919"}},splitLine:{show:!1},axisTick:{show:!1}}),F()(t,"grid",{left:"0",right:"80px",top:"20px",bottom:"1%",show:!0,borderColor:"transparent",backgroundColor:"#000000"}),F()(t,"animation",!1),F()(t,"series",[{type:"candlestick",name:"日K",itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}]),t))},candlestickBarFun:function(){this.candlestickBar=this.$echarts.init(this.$refs.candlestickBar),this.candlestickBar.setOption({xAxis:{type:"category",axisLine:{show:!1,lineStyle:{color:"#FE1919",opacity:.1}},splitLine:{show:!1,lineStyle:{color:["#FE1919"],width:1,type:"dashed",opacity:.1}},axisTick:{show:!1}},tooltip:{formatter:function(t){return[t.name+'<hr size=1 style="margin: 3px 0">',"成交量: "+t.data.value+"<br/>"].join("")}},grid:{left:"0",right:"80px",top:"4%",bottom:"2%",show:!0,borderColor:"transparent",backgroundColor:"#000000"},yAxis:{show:!0,type:"value",position:"right",splitLine:{show:!1,lineStyle:{color:["#FE1919"],width:1,opacity:.2}},axisLine:{show:!1,lineStyle:{color:"#FE1919",opacity:.2}},axisTick:{show:!1}},series:[{type:"bar",lineStyle:{color:"#ffffff"},smooth:!0,itemStyle:{color:function(t){return t.data.preClosePrice>t.data.openPrice?"#969a55":"#39a9a9"}},barMaxWidth:"10px",symbol:"none"}]})},tabClick:function(t){t>1||(this.tabIndex=t,1==t&&null==this.candlestick&&(this.candlestickFun(),this.candlestickBarFun(),this.dkline()))},echartsResize:function(){var t=this;window.addEventListener("resize",function(){t.drawLine.resize(),t.drawBar.resize(),null!=t.candlestick&&(t.candlestick.resize(),t.candlestickBar.resize())})},formatSeconds:function(t){return 60*t*1e3},quotStockDescribe:function(){var t,e=this;(t={code:this.code},f({url:"/quot/stock/describe",method:"get",params:t})).then(function(t){console.log("数据返回成功 - 个股描述"),e.stockDescribe=I()({},t),console.log(e.stockDescribe)})},quotStockScreenSecond:function(){var t,e=this;(t={code:e.code},f({url:"/quot/stock/screen/second",method:"get",params:t})).then(function(t){var a;console.log("数据返回成功 - 个股秒级"),console.log(t),(a=e.StockScreenSecond).push.apply(a,q()(t.items)),e.quotStockScreenSecondTimer=setInterval(function(){console.log("正在请求 - 个股秒级"),e.quotStockScreenSecond(),clearInterval(e.quotStockScreenSecondTimer),console.log("请求结束 - 个股秒级")},e.formatSeconds(1))})},quotSecondDetail:function(){var t,e=this;(t={code:e.code},f({url:"/quot/stock/screen/second/detail",method:"get",params:t})).then(function(t){console.log("数据返回成功 - 个股分时"),console.log(t),e.quotSecondDetailData=I()({},t),e.quotSecondDetailTimer=setInterval(function(){console.log("正在请求 - 个股分时"),e.quotSecondDetail(),clearInterval(e.quotSecondDetailTimer),console.log("请求结束 - 个股分时")},e.formatSeconds(1))})},timeSharing:function(){var t,e=this,a=this;(t={code:a.code},f({url:"/quot/stock/screen/time-sharing",method:"get",params:t})).then(function(t){console.log("数据返回成功 - 个股分时折线图");var o=[],r=[],i=[];e.maxIntervalData=1*t.items[0].openPrice,e.drawLineFun(),t.items.forEach(function(t){o.push(t.tradePrice),i.push(t.date),r.push({preClosePrice:t.preClosePrice,openPrice:t.openPrice,value:t.tradeVol})});for(var s=0;s<120-t.items.length;s++)i.push(null);a.drawLine.setOption({xAxis:{data:i},series:[{data:o}]}),a.drawBar.setOption({xAxis:{data:i},series:[{data:r}]}),a.timeSharingTimer=setInterval(function(){console.log("正在请求 - 个股分时折线图"),a.timeSharing(),clearInterval(a.timeSharingTimer),console.log("请求结束 - 个股分时折线图")},a.formatSeconds(1))})},dkline:function(){var t,e=this;(t={code:e.code},f({url:"/quot/stock/screen/dkline",method:"get",params:t})).then(function(t){console.log("数据返回成功 - 个股日K线");var a=[],o=[],r=[],i=[];t.items.forEach(function(t){o.push(t.date),a.push([t.openPrice,t.closePrice,t.lowPrice,t.highPrice,t.avgPrice,t.tradeVol,t.tradeAmt,t.preClosePrice]),r.push({preClosePrice:t.closePrice,openPrice:t.openPrice,value:t.tradeVol}),i.push({value:t.avgPrice})});for(var s=0;s<30-t.items.length;s++)o.push(null);e.candlestick.setOption({xAxis:{data:o},series:[{data:a},{name:"MA5",type:"line",data:i,smooth:!0,showSymbol:!1,lineStyle:{width:1}}]}),e.candlestickBar.setOption({xAxis:{data:o},series:[{data:r}]}),e.dklineTimer=setInterval(function(){console.log("正在请求 - 个股日K线"),e.dkline(),clearInterval(e.dklineTimer),console.log("请求结束 - 个股日K线")},e.formatSeconds(1))})}},created:function(){},mounted:function(){this.code=this.$route.query.id,this.drawLineFun(),this.drawBarFun(),this.echartsResize(),this.quotStockDescribe(),this.quotStockScreenSecond(),this.quotSecondDetail(),this.timeSharing()},watch:{$route:function(t,e){clearInterval(this.quotStockScreenSecondTimer),clearInterval(this.quotSecondDetailTimer),clearInterval(this.timeSharingTimer),clearInterval(this.dklineTimer),this.code=this.$route.query.id,this.drawLineFun(),this.drawBarFun(),this.echartsResize(),this.quotStockDescribe(),this.quotStockScreenSecond(),this.quotSecondDetail(),this.timeSharing()}},destroyed:function(){clearInterval(this.quotStockScreenSecondTimer),clearInterval(this.quotSecondDetailTimer),clearInterval(this.timeSharingTimer),clearInterval(this.dklineTimer)}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"details"},[a("div",{staticClass:"module-group"},[a("div",{staticClass:"module flex2 bigHeight tab-box"},[a("div",{staticClass:"tab"},t._l(t.tabDate,function(e,o){return a("div",{key:o,class:{"tab-item":!0,active:t.tabIndex==o},on:{click:function(e){return t.tabClick(o)}}},[t._v(t._s(e))])}),0),t._v(" "),a("div",{staticClass:"echarts-content"},[a("div",{ref:"drawLine",staticClass:"echarts drawLine",style:{width:"100%",height:"96%",opacity:0==t.tabIndex?"1":"0",zIndex:0==t.tabIndex?"10":"0"}}),t._v(" "),a("div",{ref:"candlestick",staticClass:"echarts candlestick",style:{width:"100%",height:"96%",opacity:1==t.tabIndex?"1":"0",zIndex:1==t.tabIndex?"10":"0"}})])]),t._v(" "),a("div",[a("div",{staticClass:"module mr0 introduction"},[a("div",{staticClass:"title"},[t._v(t._s(t.stockDescribe.name+" "+t.stockDescribe.code))]),t._v(" "),a("div",{staticClass:"dl"},[a("div",{staticClass:"dt"},[t._v("\n            主营业务\n          ")]),t._v(" "),a("div",{staticClass:"dd"},[a("span",[t._v(t._s(t.stockDescribe.business))])])]),t._v(" "),a("div",{staticClass:"dl"},[a("div",{staticClass:"dt"},[t._v("\n            所属行业\n          ")]),t._v(" "),a("div",{staticClass:"dd"},[a("span",[t._v(t._s(t.stockDescribe.trade))])])])]),t._v(" "),a("div",{staticClass:"module mr0 ul-box"},[a("div",{staticClass:"ul"},[a("div",{staticClass:"li"},[a("span",[t._v("收盘价")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.preClosePrice))])]),t._v(" "),a("div",{staticClass:"li"},[a("span",[t._v("开盘价")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.openPrice))])]),t._v(" "),a("div",{staticClass:"li"},[a("span",[t._v("最新价")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.tradePrice))])]),t._v(" "),a("div",{staticClass:"li"},[a("span",[t._v("最高价")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.highPrice))])])]),t._v(" "),a("div",{staticClass:"ul"},[a("div",{staticClass:"li"},[a("span",[t._v("最低价")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.lowPrice))])]),t._v(" "),a("div",{staticClass:"li"},[a("span",[t._v("交易金额")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.tradeAmt))])]),t._v(" "),a("div",{staticClass:"li"},[a("span",[t._v("交易数量")]),t._v(" "),a("span",[t._v(t._s(t.quotSecondDetailData.tradeVol))])])])])])]),t._v(" "),a("div",{staticClass:"module-group"},[a("div",{staticClass:"module flex2 mb0"},[a("div",{staticClass:"echarts-content"},[a("div",{ref:"drawBar",staticClass:"echarts",style:{width:"100%",height:"100%",opacity:0==t.tabIndex?"1":"0",zIndex:0==t.tabIndex?"10":"0"}}),t._v(" "),a("div",{ref:"candlestickBar",staticClass:"echarts",style:{width:"100%",height:"100%",opacity:1==t.tabIndex?"1":"0",zIndex:1==t.tabIndex?"10":"0"}})])]),t._v(" "),a("div",[a("div",{staticClass:"module mr0 mb0 table"},[t._m(0),t._v(" "),a("div",{staticClass:"table-cont"},t._l(t.StockScreenSecond,function(e,o){return a("div",{key:o,staticClass:"item"},[a("span",[t._v(t._s(e.date))]),t._v(" "),a("span",[t._v(t._s(e.tradePrice))]),t._v(" "),a("span",[t._v(t._s(e.tradeVol))]),t._v(" "),a("span",[t._v(t._s(e.tradeAmt))])])}),0)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-title"},[e("span",[this._v("时间")]),this._v(" "),e("span",[this._v("成交价")]),this._v(" "),e("span",[this._v("成交量")]),this._v(" "),e("span",[this._v("成交额")])])}]};var E=a("VU/8")(L,P,!1,function(t){a("voYP")},"data-v-c7d2d0e8",null).exports;o.default.use(v.a);var U=new v.a({routes:[{path:"/",name:"home",component:y},{path:"/list",name:"list",component:D},{path:"/details",name:"details",component:E}]}),z=(a("tvR6"),a("XLwt")),$=a.n(z);o.default.prototype.$echarts=$.a,o.default.use(c.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:U,components:{App:m},template:"<App/>"})},NvBQ:function(t,e){},REat:function(t,e){},apIG:function(t,e){},sZeV:function(t,e){},tvR6:function(t,e){},voYP:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f6173c97a226b0ed2246.js.map